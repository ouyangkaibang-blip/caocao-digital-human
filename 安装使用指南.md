# 曹操数字人 Android APK 安装使用指南

## 🎯 解决方案总结

由于GitHub Actions环境问题，我们提供了**多种部署方案**供您选择：

## 📱 方案一：本地构建APK（推荐）

### 步骤1：环境准备
```bash
# macOS用户
brew install openjdk@8

# Linux用户
sudo apt-get install openjdk-8-jdk
```

### 步骤2：构建APK
```bash
cd /Users/oykb/caogao/shuzhiren/digital-human-apk
./build-local.sh
```

### 步骤3：安装APK
1. 将生成的 `caocao-digital-human.apk` 传输到Android设备
2. 在Android设备上：设置 → 安全 → 允许未知来源安装
3. 点击APK文件安装
4. 打开"曹操数字人"应用

## 🌐 方案二：Termux部署（最简单）

### 在Android设备上直接运行：

1. **安装Termux**
   - 从F-Droid下载：https://f-droid.org/packages/com.termux/
   - 或从GitHub下载：https://github.com/termux/termux-app

2. **安装Node.js环境**
   ```bash
   pkg update
   pkg install nodejs git
   ```

3. **获取项目代码**
   ```bash
   git clone https://github.com/ouyangkaibang-blip/caocao-digital-human.git
   cd caocao-digital-human
   ```

4. **安装依赖并启动**
   ```bash
   npm install
   npm start
   ```

5. **访问应用**
   - 打开Android浏览器
   - 访问：http://localhost:3000

## 🖥️ 方案三：Web版本（备用）

如果上述方案都不可行，可以：

1. **在电脑上运行服务**
   ```bash
   cd /Users/oykb/caogao/shuzhiren/digital-human
   npm install
   npm start
   ```

2. **手机访问**
   - 确保手机和电脑在同一WiFi网络
   - 在手机浏览器访问：http://[电脑IP]:3000

## 🔧 功能说明

### ✅ 已实现功能
- **WebView容器**：在Android应用中显示Web内容
- **语音权限**：支持录音功能
- **网络权限**：支持API调用
- **本地资源**：HTML文件打包在APK中

### 🚧 需要配合的服务
- **Node.js服务器**：处理AI对话和TTS
- **Python ASR服务**：语音识别功能
- **DeepSeek API**：AI对话接口

## 📋 使用建议

### 推荐方案：**Termux + Web版本**
- ✅ **最简单**：无需复杂环境配置
- ✅ **最稳定**：避免APK兼容性问题
- ✅ **最完整**：支持所有功能
- ✅ **易调试**：可以实时查看日志

### 备用方案：**本地构建APK**
- 适合有Android开发经验的用户
- 需要配置Java和Android SDK环境
- 生成独立的Android应用

## 🆘 技术支持

如果遇到问题：
1. 查看详细错误日志
2. 检查网络连接
3. 确认权限设置
4. 尝试不同的方案

## 🎉 总结

经过多次尝试和优化，我们确定了最可行的部署方案。虽然GitHub Actions遇到了环境问题，但通过Termux或本地构建，您仍然可以成功运行曹操数字人项目！

**推荐使用Termux方案，这是最简单、最稳定的部署方式。**
